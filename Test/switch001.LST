C51 COMPILER V9.05   SWITCH001                                                             02/22/2015 18:44:14 PAGE 1   


C51 COMPILER V9.05, COMPILATION OF MODULE SWITCH001
OBJECT MODULE PLACED IN switch001.OBJ
COMPILER INVOKED BY: C:\Keil4\C51\BIN\C51.EXE switch001.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          /****************************************************************************
   2           File:                  switch001.c
   3          
   4           Version:               0.01
   5           Description:   Random number and switch test
   6          
   7           Created on:    2015-02-22
   8           Created by:    April
   9          
  10           Board:                 RichMCU RZ-51V2.0
  11          
  12           Jumpers:               Remove JPSMG - Disable 7-Segment LEDs
  13          
  14                                          将 JPSMG 数码管控制跳线拔掉使数码管停止工作。
  15          ****************************************************************************/
  16          #include <STC89.H>
  17          
  18          #define HIGH    1
  19          #define LOW             0
  20          
  21          #define EOF             0xff
  22          
  23          void delay()
  24          {
  25   1              int t;
  26   1      
  27   1              for (t=0; t<100; t++);
  28   1      }
  29          
  30          void main(void)
  31          {
  32   1              int     rnd=0;
  33   1              
  34   1              char random, x;
  35   1      
  36   1              char rndList[] = {7, 5, 3, 6, 2, 4, 1, 0, 6, 3, 6, 4, 2, 6, 4, 0, 1, 2, 6, 
  37   1                                                4, 5, 3, 6, 0, 3, 5, 7, 2, 6, 3, 7, 1, 5, 0, 3, 5, 2, 6,
  38   1                                               EOF};
  39   1      
  40   1              /* Turn off all LEDs */
  41   1              P0 = HIGH;
  42   1              P1 = HIGH;
  43   1              P2 = HIGH;
  44   1      
  45   1              /* Set Pin ready for Input */
  46   1              P14 = HIGH;
  47   1              P15 = HIGH;
  48   1              P16 = HIGH;
  49   1              P17 = HIGH;
  50   1      
  51   1          for (;;)
  52   1              {
  53   2                      while (P14 == HIGH);            /* Key Off */
  54   2      
  55   2                      while (P14 == LOW)
C51 COMPILER V9.05   SWITCH001                                                             02/22/2015 18:44:14 PAGE 2   

  56   2                      {
  57   3                              random = rndList[rnd++];
  58   3                              if (rndList[rnd] == EOF) rnd = 0;
  59   3              
  60   3                              x = 1 << random;
  61   3              
  62   3                              P0 = ~x;
  63   3                              
  64   3                              delay();
  65   3                      }
  66   2              }
  67   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    117    ----
   CONSTANT SIZE    =     39    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----      42
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
